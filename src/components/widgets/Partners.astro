---
import { Icon } from 'astro-icon/components';

export interface Props {
  title?: string;
  subtitle?: string;
  tagline?: string;
  items?: Array<{
    name: string;
    logo: string;
    href?: string;
  }>;
  id?: string;
}

const {
  title = 'Our Partners',
  subtitle = 'We work with leading organizations in the Web3 space',
  tagline = 'Partners',
  items = [],
  id,
} = Astro.props;
---

<section class="py-16 md:py-20" {...id ? { id } : {}}>
  <div class="max-w-6xl mx-auto px-4 sm:px-6">
    <div class="text-center pb-10 md:pb-16">
      {tagline && (
        <p class="text-base text-secondary dark:text-blue-200 font-bold tracking-wide uppercase">
          {tagline}
        </p>
      )}
      {title && (
        <h2 class="text-4xl md:text-5xl font-bold leading-tighter tracking-tighter mb-4 font-heading dark:text-gray-200">
          {title}
        </h2>
      )}
      {subtitle && (
        <p class="text-xl text-muted mb-6 dark:text-slate-300 max-w-3xl mx-auto">
          {subtitle}
        </p>
      )}
    </div>

    <div class="overflow-hidden w-full relative">
      <div class="flex gap-8 animate-partners-scroll">
        {items.concat(items).map(({ name, logo, href }, idx) => (
          <div class="flex flex-col items-center justify-center min-w-[220px] p-4 bg-white dark:bg-slate-800 rounded-lg shadow-sm mx-2" key={idx}>
            {href ? (
              <>
                <a href={href} target="_blank" rel="noopener noreferrer" class="flex items-center justify-center">
                  <img
                    src={logo}
                    alt={name}
                    class={`h-32 w-32 mb-2 ${
                      name === "Stellar East Africa"
                        ? "object-cover rounded"
                        : "object-contain"
                    }`}
                  />
                </a>
                <span class="text-base font-semibold text-center mt-2">{name}</span>
              </>
            ) : (
              <>
                <img
                  src={logo}
                  alt={name}
                  class={`h-32 w-32 mb-2 ${
                    name === "Stellar East Africa"
                      ? "object-cover rounded"
                      : "object-contain"
                  }`}
                />
                <span class="text-base font-semibold text-center mt-2">{name}</span>
              </>
            )}
          </div>
        ))}
      </div>
    </div>
  </div>
</section>

<style>
@keyframes partners-scroll {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-50%);
  }
}
.animate-partners-scroll {
  animation: partners-scroll 30s linear infinite;
  width: max-content;
}
</style>